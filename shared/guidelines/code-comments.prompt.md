# Code Commenting Generation Ruleset for AI Agents: Minimal, Purposeful, and Technically Rich

**Objective:** To provide a concise ruleset for AI agents to generate **high-quality**, **minimalist**, **purposeful**, and **technically rich** code comments in any programming language. This ruleset emphasizes strategic commenting that **enhances developer experience**, **improves code understanding**, and **contributes to codebase maintainability** without adding unnecessary noise or redundancy.

**I. Core Principles of Minimalist & Purposeful Commenting (Reinforced):**

1.  **Code as Primary Documentation (Self-Explanatory Code Above All Else):** **RULE:** **Prioritize generating *self-explanatory code* that minimizes the need for comments.**  Strive for code that is inherently readable, well-structured, and uses descriptive naming conventions so that its purpose is clear directly from the code itself, reducing reliance on comments to explain basic functionality. Let clean code structure, idiomatic syntax, and descriptive names be the *primary documentation* wherever possible. **Rationale:** *Reinforcement of Core Principle 1: Code Clarity First*.  Emphasizes the foundational idea that excellent code reduces the *need* for extensive commenting.

2.  **Comments Explain "Why," Not Redundant "What" (Intent & Rationale):** **RULE:** **Focus all generated comments on explaining the *"why"* behind the code, and avoid redundant comments that simply restate the *"what"* which is already obvious from the code syntax.** Comments should justify design decisions, explain algorithms, clarify intent, and provide context, focusing on information *not* directly derivable from a simple reading of the code itself. Focus on value-adding comments that answer *developer questions* before they even arise, anticipating points of potential confusion or complexity. **Rationale:** *Reinforcement of Core Principle 2: Value-Added Comments Only*. Emphasizes the core objective of comments: to provide non-obvious context, reasoning, and insights that are not already evident in the code itself, focusing on higher-level understanding beyond simple syntax descriptions.

3.  **Minimize Comment Noise - Ruthless Efficiency (Targeted Comments Only):** **RULE:** **Minimize comment noise *ruthlessly*. Generate code with the fewest comments possible while still ensuring sufficient documentation for complex or non-obvious sections and public interfaces.** Apply a "sparse" commenting strategy, only adding comments where they provide a genuinely *high signal-to-noise ratio* and are essential for improving code comprehension or documenting API usage.  Actively filter out or remove redundant, obvious, or boilerplate comments during code generation to keep the codebase clean, focused, and uncluttered. **Rationale:** *Reinforcement of Core Principle 3: High Signal, Low Noise*. Emphasizes the critical need for conciseness and efficiency in commenting, ensuring that each comment justifies its presence by adding significant value and avoiding visual clutter that detracts from code readability.

**II. Targeted Commenting - Strategic & Focused Application:**

4.  **Prioritize Public Interfaces & APIs (External Developer Usability):** **RULE:** **Focus the *vast majority* of commenting efforts on *thoroughly documenting Public Methods, Public Functions, Exported Classes, Interfaces, and Public APIs*.** These elements are the primary points of interaction for other developers or external systems. High-quality JSDoc (or language-appropriate doc format) comments are *essential* for public interfaces, clearly explaining their purpose, parameters, return values, exceptions, and usage examples. This documentation directly enhances the developer experience for those *using* your code as a library, component, or API. **Rationale:** *Focus Area 1: External Facing Documentation*. Prioritizes commenting efforts on the parts of the code that are most crucial for external usability and integration, maximizing the impact of documentation on the developer ecosystem surrounding the codebase.

5.  **Explain Complex Logic & Algorithms (Technical Clarity):** **RULE:** **Strategically use comments to *clarify complex logic, algorithms, or non-obvious code implementations*.**  When generating code sections that are algorithmically intricate, computationally intensive, involve subtle side effects, or implement patterns that are not immediately idiomatic or self-explanatory, include comments that *technically and precisely* describe:
    *   The algorithm being used (if it's a known or specialized algorithm, provide a reference if appropriate).
    *   The steps involved in a complex logic flow (step-by-step explanation of non-trivial code).
    *   The rationale behind a specific algorithmic choice (if there are performance, memory, or trade-offs).
    *   Any important preconditions, postconditions, or invariants that the code relies on.
    *   Edge cases or error conditions that the complex logic is designed to handle.

    These comments should aim to enhance *technical understanding* of the *implementation details* of complex code sections, providing deeper insights into *how* the code achieves its functionality when the code itself is not immediately transparent. **Rationale:** *Focus Area 2: Internal Technical Clarity*.  Addresses the need for comments to clarify the *internal workings* of complex code sections where the "what" might not be readily apparent to a developer reading the code, ensuring technical clarity and easing the debugging or modification of intricate logic.

6.  **Document Class Members - Purpose & Context (Class Internal Structure):** **RULE:** **Provide concise but informative comments to document the *purpose and role of key Class Members* (Properties and Methods), particularly for non-trivial classes, complex properties, or methods that implement core class behavior.** Class member comments (JSDoc style or inline if brief) should clarify:
    *   The *purpose* and *responsibility* of a class property – what kind of data it stores, what aspect of the class's state it represents, and its role in the class's overall functionality.
    *   The *intended behavior* and *contract* of a class method – what action it performs, what input parameters it expects (and any constraints or type-related details not immediately obvious from TypeScript types alone), what value it returns, and any relevant side effects or preconditions/postconditions that are important for understanding its usage.
    *   For more complex or architecturally significant classes, provide a *class-level comment* (JSDoc on the class declaration) that offers a high-level overview of the class's purpose, responsibilities, and role within the larger system or module, providing broader architectural context. **Rationale:** *Focus Area 3: Class Internal Documentation*. Focuses comment generation on clarifying the internal structure and behavior of classes, ensuring that class members are well-documented to improve the understandability of object-oriented code and facilitate class usage and modification by developers unfamiliar with the specific class implementation details.

**III. Qualities of Effective Code Comments (Reinforced - Technical, Descriptive, Non-Vague):**

7.  **Technical and Descriptive (Beyond Vague Generalities):** **RULE:** **Generate comments that are genuinely *technical and descriptive*, providing *specific and informative* details that go beyond vague generalities or obvious restatements of code syntax.**  Comments should be technically accurate, provide precise explanations, and use domain-specific or technical language (when appropriate for the target audience - e.g., developer comments can be more technical than end-user facing documentation). Avoid generating comments that are too high-level, too abstract, or too generic to be truly helpful.  Comments should aim to offer *actionable technical insights* and *specific details* that improve code understanding and address potential technical questions a developer might have when reading the code. **Rationale:** *Reinforcement of Core Qualities: Value & Precision*.  Emphasizes that effective code comments are *technically grounded* and provide *meaningful descriptive information* that adds concrete value to developer understanding. Vague or generic comments are just noise; comments should be focused on conveying precise technical details, algorithms, and rationale that truly enhance code comprehension for a technically proficient audience (other developers).

8.  **Purposeful and Contextual (Explain Intent & Rationale - Rule Reinforcement):** **RULE:** **RE-EMPHASIZE: Generate comments that are *purposeful and contextual*, clearly explaining the *intent*, *rationale*, or *context* behind the commented code.**  Comments should justify *why* the code is written in a certain way, *what specific problem it addresses*, *what design decisions or trade-offs* were made, or *what broader system context* is relevant for understanding the code section. Purposeful comments should aim to answer the "why" questions a developer might have – *why is this code here? why is it implemented like this? what broader purpose does it serve in the application?*. Contextual comments provide the essential background information needed to fully understand the code's role and design within the overall software system. (Reinforces Rule 2: Comments Explain "Why" Not "What").  **Rationale:** *Reinforcement of Core Purpose: Intent & Rationale*. Re-emphasizes the crucial role of comments in conveying *intent* and *reasoning*. Effective comments go beyond describing mechanics to explain the *underlying motivation*, design decisions, and contextual factors that shaped the code, empowering developers to understand not just *what* the code does, but *why* it's designed and implemented in that particular way, facilitating deeper comprehension and informed code maintenance or modification.

**VI. AI Agent Verification Checklist (Minimalist, Purposeful & Technical Code Comments):**

Before finalizing generated code with comments, rigorously verify adherence to these rules using the following checklist:

*   [ ] **Minimalist Commenting - Code as Primary Documentation (Noise Reduction):** Is code commenting minimalist and targeted, avoiding over-commenting and ensuring that comments are only added when genuinely needed to enhance understanding beyond self-explanatory code?
*   [ ] **Purpose-Driven Comments ("Why" Not Redundant "What" - Intent Explained):** Do comments primarily explain the "why" behind the code (intent, rationale, context, complex logic), focusing on adding value beyond simply restating "what" the code syntax already shows?
*   [ ] **Avoid Redundant or Obvious Comments (Efficiency & Clarity):** Are redundant, obvious, or boilerplate comments actively avoided to minimize comment noise and prevent codebase clutter, maximizing signal-to-noise ratio in comments?
*   [ ] **Prioritize Public Methods & APIs for Documentation (External API Focus):** Is comprehensive JSDoc-style documentation prioritized for public methods, functions, exported classes, interfaces, and public APIs to ensure clear and complete external API documentation?
*   [ ] **Explain Purpose of Class Members (Class Internal Structure Documentation):** Are comments used strategically to explain the purpose of key Class Members (properties, methods), especially for non-trivial classes and public/protected members, clarifying class internal structure and behavior?
*   [ ] **Technical and Descriptive Comments (Beyond Vague Generalities - Precise Info):** Are comments genuinely technical and descriptive, providing specific and informative details that go beyond vague or general statements and add precise technical insights?
*   [ ] **Purposeful and Contextual Comments (Rationale & Intent Clearly Explained):** Do comments consistently convey purpose and context, clearly explaining the intent, rationale, or context behind the commented code, answering "why" questions developers might have about the code's design and function?
*   [ ] **Illustrative Examples (Good Comments Exemplified - Quality Benchmark):** Do generated comments align with the principles exemplified in the "Illustrative Examples of Good Comments" section, serving as a benchmark for high-quality, purposeful, and technically rich code comments?
*   [ ] **Bad Comments Avoided (Redundancy, Vagueness Eliminated):** Are comments that fall into the category of "Illustrative Examples of Bad Comments" (redundant, vague, overly verbose, outdated) actively avoided, ensuring that generated comments do not introduce noise or misinformation into the codebase?
