# Angular SCSS Generation Ruleset for AI Agents: Rocket Design System Compliance (Angular Specific)

**Objective:** To provide a concise ruleset for AI agents to generate **high-quality**, **design system compliant**, **accessible**, **performant**, and **maintainable** SCSS code *specifically for Angular applications utilizing the `@rocketcentral/rocket-design-system-styles` design system*. This ruleset ensures generated SCSS adheres to the Rocket Design System guidelines, conventions, and best practices.

**I. Core Rocket Design System Compliance Rules:**

1.  **Design System Dependency - `@rocketcentral/rocket-design-system-styles`:** **RULE:** **ALWAYS generate SCSS code that is built upon and extends the styles, variables, mixins, and tokens provided by the `@rocketcentral/rocket-design-system-styles` npm package (located in `node_modules`).** Consider this package as the *authoritative source* for styling within the application. **Rationale:**  Ensures visual consistency, theming adherence, and leverages pre-built, tested styling components of the Rocket Design System, promoting efficient and maintainable styling.

2.  **Compatibility & Conventions - `web/scss` as Guide:** **RULE:** **Ensure that all generated SCSS code is *compatible* with the `@rocketcentral` design system and adheres to the established *conventions* and patterns observed in the `web/scss` folder of the design system package.** Analyze and replicate naming conventions, folder structure logic, and styling patterns from the existing design system SCSS codebase. **Rationale:** Maintains visual and code consistency within projects using the Rocket Design System. Adhering to existing conventions makes code easier to integrate, understand, and maintain for developers familiar with the design system.

3.  **Typography - Extend `_typography.scss` - No New Styles:** **RULE:** **FOR TYPOGRAPHY, ALWAYS *extend or reuse* the typography classes defined in the `_typography.scss` file (or `_typography_legacy.scss` if required by project context) from `@rocketcentral/rocket-design-system-styles`.** **DO NOT create *new* or independent typography styles from scratch.** Use placeholder classes (`%rkt-type-*`) provided in `_typography.scss` to extend and customize typography within components. **Rationale:** Ensures typographic consistency and adherence to the design system's type scale and visual language.  Prevents proliferation of inconsistent typography styles and leverages the design system's pre-defined typography system.

4.  **Prefixed Aliases for `@use` - `rkt-*` Convention:** **RULE:** **WHEN using `@use` to import SCSS modules from `@rocketcentral/rocket-design-system-styles` or within project SCSS, ALWAYS use a *prefixed alias* following the convention `rkt-<scss-filename>`.** For example: `@use "node_modules/@rocketcentral/rocket-design-system-styles/web/scss/_color.scss" as rkt-color;`. **NEVER use `*` alias or unprefixed `@use` aliases for design system SCSS imports.** **Rationale:**  Prefixed aliases (e.g., `rkt-color`) prevent naming conflicts and clearly delineate styles, variables, and mixins originating from the Rocket Design System, improving code clarity and maintainability when using `@use` modules.

5.  **Leverage Component Styles from `components/` Folder (Default Styling Source):** **RULE:** **UTILIZE the SCSS styles located in the `components/` folder of `@rocketcentral/rocket-design-system-styles` as the *primary and default source* for component styling.**  When styling Angular components, check for existing component stylesheets in the design system's `components/` folder and extend or reuse those styles as the basis for new component styles whenever applicable. **Rationale:** Promotes reuse of existing design system components and styles, ensuring visual consistency and reducing redundant styling efforts.  Leverages pre-built and validated component styling within the design system.

6.  **Design Tokens from `tokens/` Folder - Ensure Consistency:** **RULE:** **ALWAYS utilize Design Tokens defined in the `tokens/` folder of `@rocketcentral/rocket-design-system-styles` for consistent styling and theming.**  Access and use design tokens (e.g., spacing units, colors, font sizes) defined in JSON token files and exposed in SCSS (via `@use`) to ensure visual consistency and adhere to the design system's defined design language. **Rationale:** Design tokens provide a centralized and authoritative source for design-related values, ensuring consistent styling and enabling easy theming and design system updates across the application.

7.  **Avoid Duplication - Reuse Design System Functionality:** **RULE:** **AVOID generating SCSS code that *duplicates* functionality, styles, variables, mixins, or tokens that *already exist* within the `@rocketcentral/rocket-design-system-styles` package.** Before creating new styles, verify if equivalent functionality already exists in the design system and reuse those existing features instead of reinventing the wheel. **Rationale:**  Reduces code bloat, promotes code reuse, and maintains consistency with the design system. Reusing existing design system components and styles leads to more efficient and maintainable codebases.

8.  **New Component Alignment - Design System Principles & Guidelines:** **RULE:** **WHEN creating styles for *new* Angular components that are *not* already covered by the design system, ensure that these new styles *align with the overall principles, guidelines, and visual language* of the Rocket Design System.**  New component styles should be visually and conceptually consistent with existing design system components and adhere to its established styling patterns and conventions. **Rationale:** Ensures that new components visually integrate seamlessly within the existing Rocket Design System ecosystem and maintain overall design system coherence and consistency.

9.  **Correct `@use` Import Paths - `node_modules` as Root:** **RULE:** **In Angular projects using `@rocketcentral/rocket-design-system-styles`, ALWAYS generate `@use` statements with import paths that start from the `node_modules/@rocketcentral/rocket-design-system-styles` directory.** Import paths for design system SCSS should *not* be relative local paths. Use the full path starting from `node_modules` to reliably import design system styles in Angular components or global stylesheets.  Example: `@use "node_modules/@rocketcentral/rocket-design-system-styles/web/scss/_color.scss" as rkt-color;` **Rationale:**  Ensures correct and reliable import of design system SCSS modules within Angular projects, referencing the installed npm package directly rather than relying on potentially incorrect or brittle relative paths within the project structure.

**II. General SCSS Best Practices (Reinforcement & Adaptation to Design System Context):**

*   **(Semantic Selectors & Meaningful Classes - Rule 1 of General SCSS Ruleset applies here as well, but *within the Design System Context*).** When creating *custom component variations* or *extending design system components*, still prioritize semantic class names that are *consistent with the naming conventions of the Rocket Design System* (likely BEM-like or similar).

*   **(Efficient Selectors & Specificity Management - Rule 2 of General SCSS Ruleset applies, but *in Design System Context*).**  When extending design system styles, maintain *reasonable specificity*. Avoid creating overly specific selectors that could make future style overrides or component variations more difficult within the design system's framework.

*   **(Responsive Design with Media Queries & Flexible Units - Rule 3 of General SCSS Ruleset applies, adapted for *Design System Breakpoints*).**  When implementing responsive variations for components, leverage the *predefined breakpoints* and media query mixins (if provided) within the `@rocketcentral/rocket-design-system-styles` package to ensure responsiveness aligns with the design system's responsive grid and layout system.

*   **(CSS Variables for Theming & Consistency - Rule 4 of General SCSS Ruleset is *especially crucial* in Design System context).** *Maximize* the use of CSS variables *from the Rocket Design System* to control colors, typography, spacing, and other design attributes. When creating *custom component variations*, consider using component-scoped CSS variables that can be customized via design tokens or theming mechanisms, while still falling back to design system defaults for core styling.

*   **(Component-Scoped Styles - Rule 5 of Angular SCSS Ruleset is *non-negotiable* in Design System Context).**  *Enforce* component-scoped styles for *all* Angular components within projects utilizing the Rocket Design System. Component encapsulation is vital for maintaining design system integrity and preventing unintended style conflicts.

*   **(SCSS Nesting - Rule 9 of Angular SCSS Ruleset applies - Adapt for Design System Structure).** Use SCSS nesting *judiciously and in alignment with typical nesting patterns observed in the Rocket Design System codebase*. Follow established nesting depth and selector patterns used within the design system to maintain stylistic coherence and readability.

*   **(SCSS Mixins - Rule 11 of Angular SCSS Ruleset becomes even more important in Design System context).**  *Actively search for and utilize existing SCSS Mixins within `@rocketcentral/rocket-design-system-styles* for reusable style patterns, utility classes, and responsive behaviors before creating new custom mixins.* Reusing design system mixins ensures consistency and reduces code duplication within the design system ecosystem.

*   **(SCSS Comments - Rule 19 of Angular SCSS Ruleset applies - Emphasize Documentation & Design System Rationale).**  *Comment SCSS code extensively, explaining any deviations from design system defaults, customizations, or rationale behind specific styling choices* that might not be immediately obvious, particularly when extending or modifying design system components. Clear comments are crucial for maintainability and collaboration within a design system-driven project.

**III. AI Agent Verification Checklist (Angular SCSS - Rocket Design System Compliance):**

Before finalizing generated Angular SCSS code within a Rocket Design System context, verify adherence to these rules using the following checklist:

*   [ ] **Design System Dependency `@rocketcentral/rocket-design-system-styles` Used:** Is SCSS code generated *on top of* and *extending* `@rocketcentral/rocket-design-system-styles`?
*   [ ] **Compatibility & Conventions with `web/scss`:** Does the generated SCSS code adhere to the conventions and patterns of the `web/scss` folder in the design system?
*   [ ] **Typography Extended from `_typography.scss` (No New Styles):**  Does the SCSS code *extend or reuse* typography classes from `_typography.scss` (or `_typography_legacy.scss`)? Are *no new independent* typography styles created?
*   [ ] **Prefixed Aliases `rkt-*` for `@use`:** Are prefixed aliases ( `rkt-<filename>` ) *always used* when importing design system SCSS with `@use`?
*   [ ] **Component Styles from `components/` Used as Source:** Are styles from the `components/` folder of the design system used as the default styling source and basis for new component styles?
*   [ ] **Design Tokens from `tokens/` Used for Consistency:** Are Design Tokens from the `tokens/` folder used extensively to ensure consistent styling and theming?
*   [ ] **Duplication Avoidance - Reuse Design System Functionality:** Does the generated SCSS code avoid duplication by reusing existing styles, variables, mixins, and tokens from the design system?
*   [ ] **New Component Alignment with Design System Principles:**  Do styles for *new* components align with the principles, guidelines, and visual language of the Rocket Design System?
*   [ ] **Correct `@use` Import Paths - `node_modules` Root:** Are `@use` import paths for design system SCSS correctly specified, starting from `node_modules/@rocketcentral/rocket-design-system-styles`?
*   [ ] **Semantic Class Names & Element Selectors (Design System Aligned):** Are semantic class names and element selectors used (aligned with Rocket Design System naming if applicable)?
*   [ ] **Efficient Selectors & Specificity Management (Design System Context):** Are selectors efficient and specificity managed appropriately within the design system context?
*   [ ] **Responsive Design with Design System Breakpoints:** Is responsive design implemented using media queries and flexible units, ideally leveraging design system breakpoints?
*   [ ] **CSS Variables (Design System Tokens & Component Variables):** Are CSS Variables (design system tokens and component-specific variables) used extensively for theming and consistency?
*   [ ] **Component-Scoped Styles (Angular Encapsulation Enforced):** Are component-scoped styles enforced for all Angular components (using `.component.scss` and Angular's encapsulation)?
*   [ ] **SCSS Nesting for Structure (Design System Style):** Is SCSS nesting used effectively to mirror HTML structure and improve readability, aligned with typical nesting patterns in the design system?
*   [ ] **SCSS Mixins from Design System Reused:** Are SCSS Mixins from `@rocketcentral/rocket-design-system-styles` actively sought and reused for common patterns before creating new custom mixins?
*   [ ] **SCSS Comments - Design System Rationale & Deviations Documented:** Are SCSS comments used strategically to explain deviations from design system defaults, customizations, or specific design rationale?
